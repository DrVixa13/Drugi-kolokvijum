#include <stdio.h>
#include <math.h>
#include <conio.h>
#include <SDKDDKVer.h>
#pragma warning(disable : 4996)
//#include "stdafx.h" //Za Visual Studio?

float povrsinaTrougla(float a, float b, float c)
{
	float srednja, d, povrsina;
	srednja = (a + b + c) * 0.5;
	d = (srednja*(srednja - a)*(srednja - b)*(srednja - c));
	povrsina = sqrt(d);
	return povrsina;
}

int main() //int _tmain(int argc, _TCHAR* argv[]) //Ako je potrebno za Visual Studio?
{
	FILE *datoteka;
	datoteka = fopen("koordinate.txt", "r");

	int n = 5, i;  //n je broj tacaka
	float X[100], Y[100], XX, YY;
	float a, b, c;
	float povrsina = 0.0;

	char karakter;
	while ((karakter = fgetc(datoteka)) != EOF)
	{
		for (i = 0; i < n; i++)
		{
			fscanf(datoteka, "%f %f", &X[i], &Y[i]);
		}
	}
	XX = 0.0;
	YY = 0.0;
	for (i = 0; i < n; i++)
	{
		XX = XX + X[i];
		YY = YY + Y[i];
	}
	XX = XX / n;
	YY = YY / n;

	X[n] = X[0];
	Y[n] = Y[0];
	for (i = 0; i < n; i++)
	{
		a = sqrt((XX - X[i])*(XX - X[i]) + (YY - Y[i])*(YY - Y[i]));
		b = sqrt((XX - X[i + 1])*(XX - X[i + 1]) + (YY - Y[i + 1])*(YY - Y[i + 1]));
		c = sqrt((X[i] - X[i + 1])*(X[i] - X[i + 1]) + (Y[i] - Y[i + 1])*(Y[i] - Y[i + 1]));

		povrsina = povrsina + povrsinaTrougla(a, b, c);
	}
	printf("\n\nUkupna povrsina mnogougla sa koordinatama u dadoteci ('koordinate.txt') iznosi: \n %f \n", povrsina);

	getch();

	return 0;
}
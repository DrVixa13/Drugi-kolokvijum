#include <stdlib.h>
#include <string>
#include <stdio.h>
#include <string.h>
#include <ctype.h>
#include <conio.h>
#pragma warning(disable : 4996)

#define MAX_DUZINA_IMENA_DATOTEKE 100
#define MAX_VELICINA_DATOTEKE 100000

int main(void)
{

	char u_datoteka[MAX_DUZINA_IMENA_DATOTEKE];
	//char i_datoteka[MAX_DUZINA_IMENA_DATOTEKE];
	char prostor[MAX_VELICINA_DATOTEKE];
	char ch;
	int i, br, broj = 10; //broj - 10 praznih prostora
	FILE *p_ulazna, *p_izlazna;

	printf("Upisi naziv ulazne datoteke: ");
	scanf("%s", &u_datoteka);
	fflush(stdin);

	p_ulazna = fopen(u_datoteka, "r");
	if (p_ulazna == NULL)
	{
		printf("Datoteka nije pronadjena!");
		return 0;
	}

	//printf("Upisi naziv izlazne datoteke: ");
	//scanf("%s", i_datoteka);
	//fflush(stdin);

	//if (strcmp(i_datoteka, u_datoteka) == 0)
	//{
	//	printf("Ime ulazne i izlazne datoteke mora biti razlicito! \n");
	//	return;
	//}

	//p_izlazna = fopen(i_datoteka, "w");
	//if (p_izlazna == NULL)
	//{
	//	printf("Datoteka nije pronadjena!");
	//	return;
	//}

	br = 0;

	while ((ch = fgetc(p_ulazna)) != EOF)
	{
		if (ch == '\t')
			for (i = 1; i <= broj; i++)
				prostor[++br] = ' ';
		else
			prostor[++br] = ch;
	}

	fclose(p_ulazna);
	p_ulazna = NULL;

	p_ulazna = fopen(u_datoteka, "w");
	if (p_ulazna == NULL)
	{
		printf("Datoteke ne moze da se otvori!\n");
		return 0;
	}

	for (i = 1; i <= br; i++)
	{
		fprintf(p_ulazna, "%c", prostor[i]);
	}

	fclose(p_ulazna);
	printf("Zamena uspesno izvrsena \n");
	return 0;
}